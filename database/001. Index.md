# Indexとは

インデックス = **検索用のデータベース**
 
※DBごとにインデックスのデータ構造が異なる。<br>
✅MySQLではインデックスのデータ構造はデフォルトでB+Treeである。
 
![](https://storage.googleapis.com/zenn-user-upload/fb131b1dba47-20221116.png)

この図にある**各リーフノードが各物理レコードへのポインターを保持**している形。

**インデックスを作成するメリット**<br>
○ 計算量が少なくなる/検索が早くなる ... O(N)からO(logN)へ。<br>
○ Full Table Scanより断然検索早い。<br>

**インデックスを作成するデメリット**<br>
△  検索用のデータベースを作成する＝データ容量を圧迫する。<br>
△ データ挿入/更新のたびに、検索用のデータベースにも反映する必要がある。<br>

**B+Treeは範囲検索に強い。**<br>
![](https://storage.googleapis.com/zenn-user-upload/fb131b1dba47-20221116.png)

3~5の値が欲しいときは、↑のように「**3の隣の隣の5**」という風にたどれるから、**先頭の3場所さえわかればOK = 3の等価検索のみやればOK👍**<br>
<br>
　△ B-treeの場合、「3の等価検索」「4の等価検索」「5の等価検索」<br>
　○ B+treeの場合、「3の等価検索」→ リーフノードのポインター経由で4と5を取得。<br>

MySQLは、B+treeを使っている ※[B TreeとB+ Treeの違い](https://christina04.hatenablog.com/entry/2017/05/17/190000)
