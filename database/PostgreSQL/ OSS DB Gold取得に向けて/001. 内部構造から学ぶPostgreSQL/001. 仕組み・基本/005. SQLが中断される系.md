## SQLが中断されるパターン
- ユーザ要求によりクエリがキャンセルされた。
- DB操作(`SELECT pg_cancel_backend(1234);`)で対象プロセスで**実行中のSQLをキャンセル**。
- DB操作(`SELECT pg_terminate_backend(1234);`)で**プロセス自体を強制終了**。
- user_funcユーザ定義関数により**SIGSEGV**が発生。
- OOM Killerによる**SIGKILL**でプロセス自体を強制終了。

　`pg_cancel_backend`    -> 一般ユーザーなら自分のセッションのみ削除可能。superuserなら他のセッションも。<br>
　`pg_terminate_backend` -> superuserのみ利用可能。

<br>

↓ `due to user request`なので、ユーザー要求/`pg_cancel_backend`関数のどちらか
```
ERROR: canceling statement due to user request
STATEMENT: SELECT user_func();
```

↓ `due to administrator command`なので、`pg_terminate_backend`関数によるもの
```
FATAL: terminating connection due to administrator command
STATEMENT: SELECT user_func();
```

↓ `signal 9: Killed`なので、**OOM Killerにより**自動的にプロセス強制終了。<br>
（OOM Killer...UNIX系OSにてメモリ不足のときにプロセス強制終了してくれる仕組み）
```
LOG: server process (PID 21334) was terminated by signal 9: Killed DETAIL:
Failed process was running: SELECT user_func();
```

↓ **signal 11(SIGSEGV)は、ユーザ定義関数等で誤ったメモリ操作を行いセグメンテーション違反が発生した際**にログ出力されます。
```
LOG: server process (PID 21334) was terminated by signal 11: Segmentation fault DETAIL:
Failed process was running: SELECT user_func();
```

