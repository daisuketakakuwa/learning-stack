### 結論：テーブル小分け(パーティション)⇒物理データ格納先変更(テーブルスペース)
- パーティション -> `orders`テーブルを`orders_2025`,`orders_2026`に分割する👍
- テーブルスペース -> テーブルの物理データをDATADIR(`$PGDATA/base`)以外に格納できる機能👍
- `orders_2025`は古いからHDDディスク、`orders_2026`は新しいからSSDディスクに、みたいな使い方！
```sql
-- テーブルスペース！！
--  HDD用テーブルスペース
CREATE TABLESPACE hddspace LOCATION '/mnt/slow_hdd';
--  SSD用テーブルスペース
CREATE TABLESPACE fastspace LOCATION '/mnt/fast_ssd';

-- 注文日時でパーティションを分かれるようにする
CREATE TABLE orders (
    id serial PRIMARY KEY,
    order_date date NOT NULL,
    amount numeric
) PARTITION BY RANGE (order_date);

-- パーティションごとに、物理データ格納先(テーブルスペース)を指定
--  去年データはHDDに物理データを格納
CREATE TABLE orders_2025 PARTITION OF orders
    FOR VALUES FROM ('2025-01-01') TO ('2026-01-01')
    TABLESPACE hddspace;
--  最新データはSSDに物理データを格納
CREATE TABLE orders_2026 PARTITION OF orders
    FOR VALUES FROM ('2026-01-01') TO ('2027-01-01')
    TABLESPACE fastspace;
```

### 🔴バックアップとるときに「テーブルスペース」のディレクトリも？？？
- 論理バックアップ(`pg_dump`)⇒SQLで出力されるので不要！
- 物理バックアップ(`pg_basebackup`)⇒テーブルスペースで参照しているDIRも保管必要。
