## VACUUMで集める統計情報（pg_statistic）
<img width="700px" height="1078" alt="image" src="https://github.com/user-attachments/assets/935f8239-e65e-475c-8c71-f707588c39f2" />

## EXPLAIN(実行計画)のもととなる統計情報(pg_statistic/pg_stats)について
- EXPLAIN(実行計画)のもととなる統計情報について
  - pg_stats と pg_statistic の違い
    - 元テーブル(pg_statistic)をもとに、User向けに分かりやすくしてるのがpg_statsビュー
    - 元テーブル(pg_statistic)は内部管理用なので基本見ない。SUPERユーザーのみ参照可能。
    - ANALYZEコマンドで更新されるのは元テーブル(pg_statistic)。
    - pg_statsの`most_common_vals`,`most_common_freqs`を見て実行計画を決める！
  - サンプリングについて
    - 統計情報の収集はランダム・サンプリングを採用している。
    - サンプリング範囲は`default_statistics_target`パラメータで調整。大きいほど精度UP but ANALYZE時間が長くなる。
    - サンプリング範囲はテーブルごとに設定可能👍<br>`ALTER TABLE [テーブル名] ALTER [列名] SET STATISTICS 1000`
