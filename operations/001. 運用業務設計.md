## 運用業務とは？

作ったものを本番環境で動かすと、以下のような問題に直面する。
- プログラムに不具合がありエラーが発生 → 機能自体が利用できない✖
- 大量の不正なリクエストが送信される → レスポンスタイムが遅くなる✖
- サーバーが謎の原因で止まる✖

これらを防ぐために、我々開発者は「**システムが本番環境で安定して稼動し続けるために必要な活動**（🔴**運用業務**🔴）」を行う必要がある。

👉**開発**：新しい機能やシステムを作ることが中心。<br>
👉**運用**：作ったシステムを「使い続けられるようにする」ことが中心。


## どんな運用業務がある？
- 安定稼働の維持（サービス稼動の監視＆通知）
  - 監視（死活）📞通知レベル：Critial(PagerDutyで電話）
    - アプリ(API) -> ヘルスチェック（✅ALBから`GET /health`をコール）
    - インフラ -> ECSサーバ、マネージドサービス自体が稼動していること
    - DB -> 接続できること
  - 監視（異常検知）📞通知レベル：Error(Slackチャネルで通知)
    - ERRORレベルのログ
    - 不正なリクエスト（WAFブロック）
  - 監視（性能）📞通知レベル：Warn(あとで確認する)
    - アプリ
      - レイテンシー（画面/API）...p95レイテンシ
      - エラー率（API）...5xx率
      - キュー滞留時間
    - インフラ
      - 各サーバ共通（CPU/メモリ/ディスク使用率）
      - DB（接続数/ロック待ち/スロークエリ）
- 障害対応（エスカレ～恒久対応）
- ログ管理
  - アプリログ保管
  - インフラログ保管
- セキュリティの確保
  - 不正アクセスの検知/ブロック
- 問い合わせ対応
  - 問い合わせ対応（ヘルプデスク）
  - 操作マニュアルの整備
- 変更管理
  - リリース管理（👉DevOpsで早くリリースする仕組みを）
- バックアップ/リカバリ
  - データの定期バックアップ

## DevOpsとは？
